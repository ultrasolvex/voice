<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ğŸ™ï¸ School Voice â€” Ø¥ØµØ¯Ø§Ø± Ù…Ø­Ø³Ù†</title>
<style>
:root{--bg1:#081325;--bg2:#391a61}
html,body{height:100%;margin:0;font-family:'Tajawal',sans-serif;color:#fff;background:linear-gradient(180deg,var(--bg1),var(--bg2))}
.container{max-width:900px;margin:24px auto;padding:18px;border-radius:14px;background:rgba(255,255,255,0.04);box-shadow:0 12px 30px rgba(0,0,0,0.5)}
.row{display:flex;gap:8px}
input,button{border:0;border-radius:10px;padding:10px;font-size:16px}
input{flex:1;background:rgba(255,255,255,0.06);color:#fff}
button{background:linear-gradient(90deg,#6d2fb0,#2c77ff);color:#fff;cursor:pointer;font-weight:600}
.status{margin-top:12px;background:rgba(0,0,0,0.28);padding:10px;border-radius:10px;font-size:14px}
.peers{display:flex;flex-direction:column;gap:6px;margin-top:8px}
.peer{background:rgba(255,255,255,0.06);padding:8px;border-radius:8px}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.75);display:flex;align-items:center;justify-content:center;z-index:9999}
.overlay button{padding:14px 22px;font-size:18px;border-radius:12px;background:linear-gradient(90deg,#6d2fb0,#2c77ff);border:none;color:#fff;cursor:pointer}
audio{display:block;width:100%;margin-top:8px;border-radius:8px}
.small{font-size:13px;color:#ddd;margin-top:6px}
</style>
</head>
<body>
  <div class="container">
    <h2>ğŸ§ School Voice â€” Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù‘Ù†</h2>
    <p class="small">Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© ÙˆØ§Ø¶ØºØ· "Ø§Ù†Ø¶Ù…" Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²ÙŠÙ† Ù…Ø®ØªÙ„ÙÙŠÙ† Ø¨Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù…. Ø¥Ø°Ø§ Ù…Ù†Ø¹ Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„ØµÙˆØª â€” Ø§Ø¶ØºØ· Ø²Ø± ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø§Ù„Ø¸Ø§Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„.</p>

    <div class="row">
      <input id="room" placeholder="Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© (Ù…Ø«Ù„Ø§Ù‹: room1)"/>
      <button id="join">Ø§Ù†Ø¶Ù…</button>
    </div>

    <div style="margin-top:10px">
      <button id="mute" style="display:none;background:#ff4d4d">ğŸ”‡ ÙƒØªÙ… Ø§Ù„Ù…Ø§ÙŠÙƒ</button>
      <button id="leave" style="display:none;margin-left:8px;background:#666">â¹ï¸ Ø§ØªØ±Ùƒ Ø§Ù„ØºØ±ÙØ©</button>
    </div>

    <div class="status" id="status">ØºÙŠØ± Ù…ØªØµÙ„</div>
    <div class="peers" id="peers"><div class="peer">Ù„Ø§ Ø£Ø­Ø¯ Ù…ØªØµÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹</div></div>
  </div>

  <div id="overlay" class="overlay" style="display:none">
    <button id="enableAudioBtn">ğŸµ Ø§Ø¶ØºØ· Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø§Ù„Ø¢Ù†</button>
  </div>

<script type="module">
/* ========== imports Firebase ========== */
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
import {
  getDatabase, ref, set, push, onValue, onChildAdded, remove, get, onDisconnect
} from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

/* ====== Ø¥Ø¹Ø¯Ø§Ø¯ Firebase - Ø§Ø³ØªØ®Ø¯Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ùƒ Ø§Ù„Ø®Ø§Øµ Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ ====== */
const firebaseConfig = {
  apiKey: "AIzaSyAQ6gD7dayX_VRzSIsI5UecS212Ki4N16o",
  authDomain: "school-voice-1b1dc.firebaseapp.com",
  databaseURL: "https://school-voice-1b1dc-default-rtdb.firebaseio.com",
  projectId: "school-voice-1b1dc",
  storageBucket: "school-voice-1b1dc.firebasestorage.app",
  messagingSenderId: "990135804919",
  appId: "1:990135804919:web:38c050a3a2ed1cb8d304f2"
};
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* ====== Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ====== */
const joinBtn = document.getElementById('join');
const muteBtn = document.getElementById('mute');
const leaveBtn = document.getElementById('leave');
const roomInput = document.getElementById('room');
const statusEl = document.getElementById('status');
const peersEl = document.getElementById('peers');
const overlay = document.getElementById('overlay');
const enableAudioBtn = document.getElementById('enableAudioBtn');

/* ====== Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ====== */
let roomName = null;
let localStream = null;
let micEnabled = true;
const peerId = Math.random().toString(36).slice(2,9);
const pcs = {};            // RTCPeerConnection per remote peer
const audios = {};         // audio elements per remote peer
const candidateQueues = {}; // queue ICE candidates until pc ready
const answered = {};       // flags when answered received
const OFFER_RETRY_MS = 1200; // retry offer frequency
const offerTimers = {};    // timers per target to resend offers
const config = { iceServers: [{ urls: "stun:stun.l.google.com:19302" }] };

/* ====== event listeners UI ====== */
joinBtn.onclick = joinRoom;
muteBtn.onclick = toggleMic;
leaveBtn.onclick = leaveRoom;
enableAudioBtn.onclick = enableAudioPlayback;

/* ====== Ù…Ø³Ø§Ø¹Ø¯Ø©: ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© ====== */
function setStatus(txt){
  statusEl.textContent = txt;
  console.log('[STATUS]', txt);
}

/* ====== Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ AudioContext Ùˆ resume (Ù„Ø­Ù„ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„) ====== */
let audioContext = null;
async function resumeAudioContext() {
  try {
    if (!audioContext) {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
    }
    if (audioContext.state === 'suspended') await audioContext.resume();
    // play a silent buffer to ensure audio is unlocked on some Safari versions
    const buf = audioContext.createBuffer(1, 1, 22050);
    const src = audioContext.createBufferSource();
    src.buffer = buf;
    src.connect(audioContext.destination);
    src.start();
    src.stop();
    console.log('AudioContext resumed');
  } catch (e) {
    console.warn('resumeAudioContext failed', e);
  }
}

/* ====== Ø¯Ø§Ù„Ø© Ù„ÙØªØ­ Ø§Ù„Ù…Ø§ÙŠÙƒ ÙˆØ§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ====== */
async function joinRoom(){
  roomName = roomInput.value.trim();
  if(!roomName){ alert('Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© Ø£ÙˆÙ„Ø§Ù‹'); return; }

  setStatus('ğŸ“¡ Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ù…Ø§ÙŠÙƒ...');
  try {
    localStream = await navigator.mediaDevices.getUserMedia({ audio: true });
  } catch (e) {
    alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆÙÙˆÙ† ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.');
    setStatus('ğŸš« Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…Ø§ÙŠÙƒ');
    return;
  }

  // Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù€ UI Ø¬Ø§Ù‡Ø²
  muteBtn.style.display = 'inline-block';
  leaveBtn.style.display = 'inline-block';
  joinBtn.disabled = true;
  roomInput.disabled = true;

  // Ø³Ø¬Ù„ ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø§Ù„ØºØ±ÙØ© ÙÙŠ Firebase ÙˆØ§Ù…Ø³Ø­ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ÙØµØ§Ù„
  const myRef = ref(db, `rooms/${roomName}/peers/${peerId}`);
  await set(myRef, { id: peerId, ts: Date.now() });
  onDisconnect(myRef).remove();

  // Ø§Ø³ØªÙ…Ø¹ Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø±Ø§Ù† ÙˆØ¹Ø±Ø¶Ù‡Ù…
  const peersRef = ref(db, `rooms/${roomName}/peers`);
  onValue(peersRef, snap=>{
    const obj = snap.val() || {};
    const others = Object.keys(obj).filter(id=>id!==peerId);
    renderPeers(others);
  });

  // Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬Ù‡Ø© Ø¥Ù„ÙŠÙƒ
  const mySigRef = ref(db, `signals/${roomName}/${peerId}`);
  onChildAdded(mySigRef, async snap=>{
    const msg = snap.val(); if(!msg) return;
    const from = msg.from;
    console.log('recv msg', msg);
    if(msg.type === 'offer'){
      // Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¶
      const pc = await createPC(from, false);
      await pc.setRemoteDescription(msg.sdp).catch(e=>console.warn('setRemoteDescription offer failed',e));
      const answer = await pc.createAnswer();
      await pc.setLocalDescription(answer);
      sendSig(from, { from: peerId, type: 'answer', sdp: pc.localDescription });
      // Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¯ØŒ Ù†Ø¹Ø§Ù„Ø¬ Ø£ÙŠ Ù…Ø±Ø´Ø­ÙŠÙ† Ù…Ø¬Ù…Ù‘Ø¹ÙŠÙ†
      (candidateQueues[from]||[]).forEach(c=>pc.addIceCandidate(c).catch(()=>{}));
      candidateQueues[from] = [];
    }
    else if(msg.type === 'answer'){
      if(pcs[from]){
        await pcs[from].setRemoteDescription(msg.sdp).catch(e=>console.warn('setRemoteDescription answer failed',e));
        answered[from] = true;
        // Ø£ÙˆÙ‚Ù Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¶
        clearInterval(offerTimers[from]);
        offerTimers[from] = null;
        // Ø§Ø·Ø¨Ù‚ Ø£ÙŠ Ù…Ø±Ø´Ø­ÙŠÙ† Ù…Ø¤Ø¬Ù„ÙŠÙ†
        (candidateQueues[from]||[]).forEach(c=>pcs[from].addIceCandidate(c).catch(()=>{}));
        candidateQueues[from] = [];
      }
    }
    else if(msg.type === 'ice'){
      if(pcs[from]){
        pcs[from].addIceCandidate(msg.candidate).catch(()=>{});
      } else {
        // Ø¥Ø°Ø§ pc ØºÙŠØ± Ø¬Ø§Ù‡Ø² Ø¨Ø¹Ø¯ØŒ Ø®Ø²Ù‘Ù† Ø§Ù„Ù…Ø±Ø´Ø­ Ù…Ø¤Ù‚ØªÙ‹Ø§
        candidateQueues[from] = candidateQueues[from] || [];
        candidateQueues[from].push(msg.candidate);
      }
    }
    // Ø§Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ (ØªÙ†Ø¸ÙŠÙ)
    remove(snap.ref).catch(()=>{});
  });

  // ØªÙ‡ÙŠØ¦Ø©: Ø§ØªØµÙ„ Ø¨ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø±Ø§Ù† Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ† Ø§Ù„Ø¢Ù† (Ø§Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ†)
  const snap = await get(ref(db, `rooms/${roomName}/peers`));
  const present = snap.val() || {};
  for(const id in present){
    if(id === peerId) continue;
    // Ø§Ù†Ø´Ø¦ Ø§ØªØµØ§Ù„ ÙˆÙƒÙ† offerer
    await createPC(id, true);
  }

  setStatus(`âœ… Ù…ØªØµÙ„ ÙÙŠ "${roomName}" â€” Ø§Ø¶ØºØ· Ø²Ø± ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª (Ø¥Ø°Ø§ Ø¸Ù‡Ø±).`);
  // Ø¹Ø±Ø¶ Ø§Ù„overlay Ù„Ø§Ù„ØªÙ‚Ø§Ø· ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„ØªØ´ØºÙŠÙ„
  overlay.style.display = 'flex';

  // ÙÙˆØ± Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…ØŒ Ø­Ø§ÙˆÙ„ resume AudioContext (Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù„ÙŠ ØªØ­ØªØ§Ø¬ ØªÙØ§Ø¹Ù„)
  await resumeAudioContext();
}

/* ====== Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ RTCPeerConnection Ù…Ø¹ retry Ù„Ù„Ù€ offer ====== */
async function createPC(otherId, offerer=false){
  if(pcs[otherId]) return pcs[otherId];
  console.log('createPC', otherId, 'offerer=', offerer);
  const pc = new RTCPeerConnection(config);
  pcs[otherId] = pc;
  answered[otherId] = false;
  candidateQueues[otherId] = candidateQueues[otherId] || [];

  // Ø£Ø¶Ù Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
  if(localStream) localStream.getTracks().forEach(t=>pc.addTrack(t, localStream));

  pc.ontrack = (e)=>{
    console.log('ontrack from', otherId, e.streams);
    let a = audios[otherId];
    if(!a){
      a = document.createElement('audio');
      a.autoplay = true;
      a.playsInline = true;
      a.controls = false;
      a.muted = false;
      a.setAttribute('playsinline','');
      audios[otherId] = a;
      peersEl.appendChild(a);
    }
    a.srcObject = e.streams[0];
    // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ù†ØµØ± ÙÙˆØ±Ù‹Ø§ (Ø¨Ø¹Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª)
    a.play().catch(()=>{});
    setStatus(`ğŸ§ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ØµÙˆØªÙŠ Ù…Ù† ${otherId}`);
  };

  pc.onicecandidate = (ev)=>{
    if(ev.candidate){
      sendSig(otherId, { from: peerId, type: 'ice', candidate: ev.candidate });
    }
  };

  pc.onconnectionstatechange = ()=>{
    console.log('connectionState', otherId, pc.connectionState);
    if(pc.connectionState === 'disconnected' || pc.connectionState === 'failed' || pc.connectionState === 'closed'){
      // Ù†Ø¸Ù
      closePeer(otherId);
    }
  };

  // Ø¥Ø°Ø§ Ø¯ÙˆØ±Ù†Ø§ offerer â€” Ø§Ù†Ø´Ø¦ Ø¹Ø±Ø¶ ÙˆØ§Ø±Ø³Ù„Ù‡ (Ù…Ø¹ retry)
  if(offerer){
    const doOffer = async ()=>{
      try{
        const offer = await pc.createOffer();
        await pc.setLocalDescription(offer);
        sendSig(otherId, { from: peerId, type: 'offer', sdp: pc.localDescription });
      }catch(e){
        console.warn('offer error', e);
      }
    };
    // Ø§Ø±Ø³Ø§Ù„ Ø£ÙˆÙ„ÙŠ Ø«Ù… ØªÙƒØ±Ø§Ø± Ø­ØªÙ‰ ÙŠØµÙ„ answer Ø£Ùˆ ÙŠØµÙŠØ± ØªØ¬Ø§ÙˆØ² ÙˆÙ‚ØªÙŠ
    await doOffer();
    offerTimers[otherId] = setInterval(async ()=>{
      if(answered[otherId]) { clearInterval(offerTimers[otherId]); offerTimers[otherId]=null; return; }
      console.log('resend offer to', otherId);
      await doOffer();
    }, OFFER_RETRY_MS);
  }
  return pc;
}

/* ====== send signal helper ====== */
function sendSig(target, data){
  push(ref(db, `signals/${roomName}/${target}`), data).catch(e=>console.warn('sendSig failed',e));
}

/* ====== UI render peers ====== */
function renderPeers(list){
  peersEl.innerHTML = '';
  if(!list.length){
    peersEl.innerHTML = '<div class="peer">Ù„Ø§ Ø£Ø­Ø¯ Ù…ØªØµÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
    return;
  }
  list.forEach(id=>{
    const div = document.createElement('div');
    div.className = 'peer';
    div.textContent = 'ğŸ™ï¸ Ù…Ø³ØªØ®Ø¯Ù… ' + id;
    peersEl.appendChild(div);
  });
}

/* ====== ÙƒØªÙ… Ø§Ù„Ù…Ø§ÙŠÙƒ ====== */
function toggleMic(){
  micEnabled = !micEnabled;
  localStream?.getAudioTracks().forEach(t=>t.enabled = micEnabled);
  muteBtn.textContent = micEnabled ? 'ğŸ”‡ ÙƒØªÙ… Ø§Ù„Ù…Ø§ÙŠÙƒ' : 'ğŸ™ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø§ÙŠÙƒ';
}

/* ====== ØªÙØ¹ÙŠÙ„ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª (Ø²Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…) ====== */
async function enableAudioPlayback(){
  // Ø­Ø§ÙˆÙ„ resume AudioContext Ùˆ play Ù„ÙƒÙ„ Ø¹Ù†ØµØ± ØµÙˆØª Ø¥Ù† ÙˆØ¬Ø¯
  await resumeAudioContext();
  Object.values(audios).forEach(a=>{
    try{ a.muted = false; a.play().catch(()=>{}); }catch{}
  });
  overlay.style.display = 'none';
  setStatus('ğŸ”Š ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª â€” Ø§Ù„Ø¢Ù† ÙŠØ¬Ø¨ Ø³Ù…Ø§Ø¹ Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø¢Ø®Ø± Ø¥Ø°Ø§ Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­');
}

/* ====== Ø¥ØºÙ„Ø§Ù‚/ØªÙ†Ø¸ÙŠÙ peer Ù…Ø¹ÙŠÙ† ====== */
function closePeer(id){
  try{
    if(pcs[id]){
      pcs[id].close();
      delete pcs[id];
    }
    if(audios[id]){
      audios[id].srcObject = null;
      audios[id].remove();
      delete audios[id];
    }
    if(offerTimers[id]){ clearInterval(offerTimers[id]); offerTimers[id]=null; }
    candidateQueues[id] = [];
  }catch(e){ console.warn('closePeer error',e); }
}

/* ====== Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„ØºØ±ÙØ© (ØªÙ†Ø¸ÙŠÙ ÙƒØ§Ù…Ù„) ====== */
async function leaveRoom(){
  // Ø§ØºÙ„Ù‚ ÙƒÙ„ Ø§Ù„Ù€ PCs
  Object.keys(pcs).forEach(id=>closePeer(id));
  // Ø§Ø²Ù„ Ø³Ø¬Ù„Ùƒ Ù…Ù† Firebase
  try{
    await remove(ref(db, `rooms/${roomName}/peers/${peerId}`));
  }catch(e){}
  // Ø§ØºÙ„Ù‚ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø§ÙŠÙƒ
  localStream?.getTracks().forEach(t=>t.stop());
  localStream = null;
  // Ø§Ø³ØªØ±Ø¬Ø¹ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  joinBtn.disabled = false;
  roomInput.disabled = false;
  muteBtn.style.display = 'none';
  leaveBtn.style.display = 'none';
  setStatus('ØºÙŠØ± Ù…ØªØµÙ„');
  overlay.style.display = 'none';
  peersEl.innerHTML = '<div class="peer">Ù„Ø§ Ø£Ø­Ø¯ Ù…ØªØµÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
}

/* ====== ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ ====== */
window.addEventListener('beforeunload', async ()=>{
  try{ await remove(ref(db, `rooms/${roomName}/peers/${peerId}`)); }catch{}
});

/* ====== Ù…ÙÙŠØ¯Ø© Ù„Ù„ØªØªØ¨Ø¹ ÙÙŠ console (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ====== */
console.log('peerId', peerId);

</script>
</body>
</html>
